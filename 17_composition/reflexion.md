# Изменяемость отношения is-a

Контекст! Контекст! И ещё раз контекст!

Во многих примерах и в обоих пунктах моего решения выбор между наследованием
и композицией определяется контекстом.

Композиция даёт больше гибкости, но может загромождать код.

Наследование может сильно упростить сопровождение за счёт замены `if`ов
полиморфными вызовами, но черевато разрастанием иерархии классов вида
`ColoredBoldUnderlinedText`.

Сделать правильный выбор можно только на основе знания спецификации и
направлений её потенциального изменения.

Особенно понравились примеры про игры.
При строительстве виртуальных миров фантазия неудержима
и требует максимальной гибкости.
Поэтому там выбор часто делается в пользу композиции.
При это динамическим являются не только значения атрибутов, но и сам их набор.
Например, при наложении чар на оружие добавляется атрибут магического воздействия
с соответствующим значением.
